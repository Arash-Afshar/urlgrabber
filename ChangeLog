2004-03-28  Michael D. Stenner <mstenner@linux.duke.edu>

	* makefile:

	Added "make test" target.

2004-03-28  Michael D. Stenner <mstenner@linux.duke.edu>

	* urlgrabber/grabber.py:

	Fixed documentation error in the range docs.  Temporarily disabled
	the opener-caching because it seems to not quite work correctly
	yet.

2004-03-28  Michael D. Stenner <mstenner@linux.duke.edu>

	* test/test_keepalive.py:

	Changed the wait time for the dropped-connection test.	The apache
	keepalive timeout is 15 seconds, so I set the test to 20.

2004-03-28  Ryan Tomayko <rtomayko@naeblis.cx>

	* TODO:

	Removed items from TODO list related to options handling as well as
	the item on reget not working due to how options are copied.

2004-03-28  Ryan Tomayko <rtomayko@naeblis.cx>

	* test/test_grabber.py, urlgrabber/grabber.py:

	Modified URLGrabberOptions to use "instance-inheritance" pattern
	instead of copying all options.

2004-03-28  Ryan Tomayko <rtomayko@naeblis.cx>

	* urlgrabber/mirror.py:

	Fixed real small typo in mirror doc string.

2004-03-28  Michael D. Stenner <mstenner@linux.duke.edu>

	* urlgrabber/grabber.py:

	Tidied up some of the callback code.

2004-03-21  Michael D. Stenner <mstenner@linux.duke.edu>

	* ChangeLog, TODO, test/threading/batchgrabber.py,
	test/threading/urls-keepalive, test/threading/urls-many:

	Updated ChangeLog, TODO.  Played with the batchgrabber stuff a
	little.

2004-03-21  Michael D. Stenner <mstenner@linux.duke.edu>

	* test/test_keepalive.py:

	added a simple threading test

2004-03-21  Michael D. Stenner <mstenner@linux.duke.edu>

	* urlgrabber/keepalive.py:

	Rearranged keepalive a little to make it nicer.  Also made it deal
	better with dead connections.  Now it checks ALL "free"
	connections.

2004-03-20  Michael D. Stenner <mstenner@linux.duke.edu>

	* TODO, urlgrabber/keepalive.py:

	OK, I THINK I've made keepalive thread-friendly.  The interface is
	completely unchanged.  It passes all the existing unittests
	(although none of them test threading issues).	I need to make some
	new tests for thread stuff.

2004-03-19  Michael D. Stenner <mstenner@linux.duke.edu>

	* test/grabberperf.py:

	Made tests a little cleaner and added "none" test, which is a
	reasonable "ideal" test case.

2004-03-19  Ryan Tomayko <rtomayko@naeblis.cx>

	* TODO:

	Removed item on reducing urllib2 opener director creation.

2004-03-19  Ryan Tomayko <rtomayko@naeblis.cx>

	* test/grabberperf.py:

	Added proxies to performance tests to ensure that ProxyHandlers are
	being added to the urllib2 OpenerDirector.

2004-03-19  Ryan Tomayko <rtomayko@naeblis.cx>

	* urlgrabber/grabber.py:

	Caching urllib2 ProxyHandler and OpenerDirectors instead of
	creating new ones for each request.

2004-03-19  Michael D. Stenner <mstenner@linux.duke.edu>

	* TODO, urlgrabber/grabber.py:

	In grabber.py, fixed a bug with urlread when no limit is specified.
	 Made the "natural" file translation work for relative pythnames.

2004-03-19  Michael D. Stenner <mstenner@linux.duke.edu>

	* test/: base_test_code.py, test_grabber.py:

	Added file and ftp tests for reget.

2004-03-18  Michael D. Stenner <mstenner@linux.duke.edu>

	* test/: base_test_code.py, munittest.py, runtests.py,
	test_byterange.py, test_grabber.py, test_keepalive.py,
	test_mirror.py:

	By popular demand, I broke out the unittest coolness into a
	separate module (munittest.py) which is largely a drop-in
	replacement for unittest.py.  The whole test setup is just way cool
	at this point.

2004-03-18  Michael D. Stenner <mstenner@linux.duke.edu>

	* test/: base_test_code.py, runtests.py, test_byterange.py,
	test_grabber.py, test_keepalive.py, test_mirror.py:

	Made tests prettier (again... I do like pretty tests) and created
	the test result "skip" intended for things like ftp tests where
	there may not be a server available.  None of the available "ok",
	"FAIL" or "ERROR" were really appropriate.

2004-03-17  Michael D. Stenner <mstenner@linux.duke.edu>

	* urlgrabber/mirror.py:

	Added a little more documentation.

2004-03-17  Michael D. Stenner <mstenner@linux.duke.edu>

	* TODO, test/test_mirror.py, urlgrabber/mirror.py:

	Made the control of MirrorGroup failover action WAY cooler and more
	flexible.  Added tests

2004-03-16  Michael D. Stenner <mstenner@linux.duke.edu>

	* TODO, test/base_test_code.py, test/test_grabber.py,
	urlgrabber/grabber.py:

	Changed test base_url according to new web page.  Added prefix
	argument to URLGrabber, along with docs and test.  Also documented
	URLGrabber failure_callback.

2004-03-15  Michael D. Stenner <mstenner@linux.duke.edu>

	* TODO:

	updated TODO after alpha-huddle

2004-03-15  Ryan Tomayko <rtomayko@naeblis.cx>

	* test/test_grabber.py:

	Grabber tests now call package level urlgrab, urlopen, urlread
	functions.

2004-03-15  Ryan Tomayko <rtomayko@naeblis.cx>

	* urlgrabber/__init__.py:

	Added urlgrab, urlopen, urlread as package level exports.

2004-03-14  Michael D. Stenner <mstenner@linux.duke.edu>

	* ChangeLog, scripts/urlgrabber, urlgrabber/byterange.py,
	urlgrabber/grabber.py, urlgrabber/keepalive.py,
	urlgrabber/mirror.py:

	Added Id: strings to distributed python files, made grabber.py use
	the global version information from __init__.py, and updated
	copyright statements to include 2004 :)

2004-03-14  Michael D. Stenner <mstenner@linux.duke.edu>

	* TODO:

	updated TODO

2004-03-14  Michael D. Stenner <mstenner@linux.duke.edu>

	* setup.py, urlgrabber/__init__.py:

	Put version, date, url, and author information into __init__.py and
	have setup.py read them in from there.	Also put Id: tag into
	__init__.py, which we should probably do in the other files as
	well.

2004-03-13  Michael D. Stenner <mstenner@linux.duke.edu>

	* test/test_mirror.py, urlgrabber/mirror.py:

	improved mirror.py docs, added MGRandomStart (which is equivalent
	to yum's roundrobin failover policy) and MGRandomOrder.  Added
	associated tests for these new classes.

2004-03-13  Michael D. Stenner <mstenner@linux.duke.edu>

	* test/test_byterange.py:

	converted test_byterange.py to use base_test_code

2004-03-13  Michael D. Stenner <mstenner@linux.duke.edu>

	* TODO:

	updated TODO

2004-03-13  Michael D. Stenner <mstenner@linux.duke.edu>

	* test/: base_test_code.py, test_grabber.py, test_keepalive.py:

	making tests a little nicer

2004-03-13  Michael D. Stenner <mstenner@linux.duke.edu>

	* test/: base_test_code.py, test_grabber.py, test_mirror.py:

	added callback test to test_mirror.py.	Restructuring the test code
	a little.  Starting to move common definitions (like the reference
	data) into base_test_code.py, which can be accessed from the other
	test modules.  Also defined UGTestCase which prints things slightly
	more prettily.

	Also, I'd like to go on record as saying that I absolutely hate the
	__attribute munging in python, and I don't think it should ever be
	used.  Thank you for your attention.

2004-03-13  Michael D. Stenner <mstenner@linux.duke.edu>

	* urlgrabber/: grabber.py, mirror.py:

	added "failure_callback" options to both MirrorGroup and
	URLGrabber.  These allow the calling application to know when a
	retry/failover is occurring and what caused it (the exception is
	passed to the callback).

2004-03-13  Michael D. Stenner <mstenner@linux.duke.edu>

	* test/: runtests.py, test_grabber.py, test_keepalive.py:

	added keepalive tests; fixed test_bad_reget_type

2004-03-12  Michael D. Stenner <mstenner@linux.duke.edu>

	* urlgrabber/grabber.py:

	Fixed a stupid typo in the splituser fix (from 5 minutes ago)

2004-03-12  Michael D. Stenner <mstenner@linux.duke.edu>

	* urlgrabber/.cvsignore:

	Added .cvsignore to urlgrabber/ directory

2004-03-12  Michael D. Stenner <mstenner@linux.duke.edu>

	* TODO:

	Updated TODO.

2004-03-12  Michael D. Stenner <mstenner@linux.duke.edu>

	* urlgrabber/: grabber.py, mirror.py:

	Fixed a typo in mirror.py.  Added reget docs and reformatted
	module-level docs in grabber.py.  Also fixed a "bug" in grabber.py
	that came about because the python 2.3 urllib2 no longer includes
	splituser and splitpasswd.

2004-03-12  Ryan Tomayko <rtomayko@naeblis.cx>

	* test/test_grabber.py:

	Using a tempfile for urlgrab test instead of named file in cwd.

2004-03-12  Ryan Tomayko <rtomayko@naeblis.cx>

	* urlgrabber/grabber.py:

	Removed ugly code that was suppose to allow a file-object to be
	passed to urlgrab as the output file.

2004-03-12  Ryan Tomayko <rtomayko@naeblis.cx>

	* test/runtests.py:

	Added mirror tests to main test suite.

2004-03-12  Michael D. Stenner <mstenner@linux.duke.edu>

	* test/test_grabber.py, urlgrabber/grabber.py:

	Added first attempt at reget support.  Created test suite for http.

2004-03-11  Michael D. Stenner <mstenner@linux.duke.edu>

	* ChangeLog, MANIFEST.in, README, makefile, setup.py,
	maint/cvs2cl.pl, maint/usermap:

	Updated MANIFEST.in and README.  Created 'maint' directory
	containing cvs2cl.pl and usermap file (to make usernames to email
	address for cvs2cl.pl).  Also created a "ChangeLog" target in the
	makefile to build the Changelog.

2004-03-11  Michael D. Stenner <mstenner@linux.duke.edu>

	* TODO, urlgrabber/keepalive.py:

	[TODO] added not about restructuring import style

	[keepalive.py] improved exception-handling and made it a bit more
	fault-tolerant.  Specifically, it now better addresses
	dropped-connections.  Also added a dropped-connection test to the
	test code in keepalive.py.  For now, I'd like to keep this code in
	keepalive.py for convenient diagnostics from users.

2004-03-10  Michael D. Stenner <mstenner@linux.duke.edu>

	* TODO, test/test_mirror.py, urlgrabber/grabber.py,
	urlgrabber/keepalive.py, urlgrabber/mirror.py:

	Added mirror code and associated test code.

	[grabber.py] Edited URLGrabError doc string to reflect MirrorGroup
	error code and new error code policy.

	[TODO] Moved reget to ALPHA (from ALPHA 2)

	[keepalive.py] fixed problem with the new python 2.3 httplib.  They
	now raise BadStatusLine from a new place.

2004-03-10  Ryan Tomayko <rtomayko@naeblis.cx>

	* test/: grabberperf.py, test_byterange.py, test_grabber.py:

	Fixed up tests to work with new directory layout.  Note: most
	sys.path hackery has been removed so you will need	 to setup
	PYTHONPATH manually before running test scripts.

2004-03-10  Ryan Tomayko <rtomayko@naeblis.cx>

	* setup.py:

	Fixed up for new cvs structure. Tried to simplify a bit while I was
	here.

2004-03-10  Michael D. Stenner <mstenner@linux.duke.edu>

	* ChangeLog:

	Edited the cvs repo to restructure a little bit.  All module python
	code (grabber.py, byterange.py, progress.py, keepalive.py, and
	__init__.py) have been moved into a "urlgrabber" directory.

	Removed the ChangeLog file from the repo and created a new empty
	one.  In the intial (empty) version, I included the old logs from
	before the repo-merge.	Therefore, those logs appear as a single
	log-entry.  It's a little bit of a hack, but it's good enough.	All
	the info is there, and it allows us to move forward without having
	to keep special-casing those old logs.

	All future changelogs will be generated with cvs2cs.pl.

	Other than these actions, I didn't do anything to any files.
	Therefore, a number of things are certainly broken, as they expect
	things to be in other places.  Things I can think of: test code,
	setup.py.

2004-03-08  Ryan Tomayko <rtomayko@naeblis.cx>

	* TODO:

	raise exceptions for invalid ranges DONE.

2004-03-08  Ryan Tomayko <rtomayko@naeblis.cx>

	* urlgrabber/grabber.py:

	Added support for RangeError to URLGrabError handling (errno 9).
	Also, default is _not_ to retry grabs resulting in RangeError.

2004-03-08  Ryan Tomayko <rtomayko@naeblis.cx>

	* urlgrabber/byterange.py:

	Fixed try/except without an explicit exception. that's a no-no.

2004-03-08  Ryan Tomayko <rtomayko@naeblis.cx>

	* urlgrabber/byterange.py:

	raising RangeError anytime a range is non-satisfiable.

2004-03-08  Ryan Tomayko <rtomayko@naeblis.cx>

	* urlgrabber/grabber.py:

	Always copy_local when a byte range is specified to urlgrab.

2004-03-08  Ryan Tomayko <rtomayko@naeblis.cx>

	* TODO:

	urllib2 conditionals were cleaned up a while ago..

2004-03-08  Ryan Tomayko <rtomayko@naeblis.cx>

	* TODO:

	Confirmed FTP connections are being closed properly when using
	ranges.  Added item for using CacheFTPHandler so FTP connections
	are reused.  Moved reget item under ALPHA 2.  Added items for
	keepalive/progress_meter w/ multiple threads.  viewcvs DONE.  Test
	under multiple threads DONE.  Basic performance tests DONE.

2004-03-06  Ryan Tomayko <rtomayko@naeblis.cx>

	* test/threading/: urls-keepalive, urls-many:

	Some URLs for batchgrabber.py.

2004-03-06  Ryan Tomayko <rtomayko@naeblis.cx>

	* test/threading/batchgrabber.py:

	Module for testing urlgrabber w/ multiple threads.

2004-03-01  Ryan Tomayko <rtomayko@naeblis.cx>

	* urlgrabber/grabber.py:

	Performance tweak to bypass URLGrabberFileObject.read when not
	using progress_obj or throttle.

2004-03-01  Ryan Tomayko <rtomayko@naeblis.cx>

	* urlgrabber/grabber.py:

	Removed speed test from grabber.py. This test has been moved to
	test/grabberperf.py

2004-03-01  Ryan Tomayko <rtomayko@naeblis.cx>

	* test/grabberperf.py:

	First cut at a module to run through some performance tests for
	grabber.py

2004-03-01  Ryan Tomayko <rtomayko@naeblis.cx>

	* test/test_grabber.py:

	Clean up temp files after testing urlgrab.

2004-02-28  Ryan Tomayko <rtomayko@naeblis.cx>

	* TODO:

	Added reget and batch stuff under the 'maybe' section.

2004-02-22  Ryan Tomayko <rtomayko@naeblis.cx>

	* urlgrabber/grabber.py:

	Brought in fix from yum for user:pass escaping in URLs.

2004-02-22  Ryan Tomayko <rtomayko@naeblis.cx>

	* TODO, urlgrabber/grabber.py:

	Added checkfunc support to urlread.

2004-02-22  Ryan Tomayko <rtomayko@naeblis.cx>

	* TODO, urlgrabber/byterange.py:

	Changed all variables/args named 'range' to rangetup or brange to
	avoid possible python keyword clash.

2004-02-22  Ryan Tomayko <rtomayko@naeblis.cx>

	* TODO:

	Added item about handling KeyboardInterupt exceptions.

2004-02-22  Ryan Tomayko <rtomayko@naeblis.cx>

	* TODO:

	Restructured TODO list based on recent email from Michael.

2004-02-14  Ryan Tomayko <rtomayko@naeblis.cx>

	* .cvsignore, MANIFEST.in, README, TODO, progress_meter.py,
	setup.py, urlgrabber.py, scripts/urlgrabber, test/.cvsignore,
	test/runtests.py, test/test_byterange.py, test/test_grabber.py,
	test/test_urlgrabber.py, urlgrabber/__init__.py,
	urlgrabber/byterange.py, urlgrabber/grabber.py,
	urlgrabber/progress.py:

	Mass commit/merge of changes made for urlgrabber restructuring..
	See ChangeLog for details.

2004-02-11  Michael D. Stenner <mstenner@linux.duke.edu>

	* ChangeLog:

	These are the changes from when ryan was working in a separate
	repo.  They are included here in bulk for ChangeLog simplicity.

	2004-02-09 Friday     rtomayko

	  * TODO: Initial commit of TODO list..

	2004-01-29 Thursday   rtomayko

	  * grabber.py, grabbertests.py, urlgrabber: Added proxy support.

	  * grabber.py: Removed default option copying in URLGrabber class
	    because this could cause side-effects.

	2004-01-25 Sunday     rtomayko

	  * setup.py: Fixed bad syntax on doc files..

	  * setup.py, urlgrabber: Added urlgrabber script to distutils
	    install.

	2003-12-16 Tuesday    rtomayko

	  * byterange.py, grabber.py: Initial crack at range support for
	    FTP - working but ugly..

	2003-12-12 Friday     rtomayko

	  * byterange.py, byterangetests.py: Make range tuples work like
	    python slices. endpos is non-inclusive.

	2003-12-10 Wednesday  rtomayko

	  * scripts/urlgrabber: Quick script to call urlgrabber from the
	    command line. I've been using it in place of wget to get as
	    much testing as possible.

	  * grabber.py: Fixed small problem with progress meter not
	    updating properly. This was caused by moving _do_grab to
	    URLGrabberFileObject.

	  * grabber.py: Moved _do_open and per-request variables into
	    URLGrabberFileObject

	  * grabber.py: Added doc for user_agent kwarg

	  * grabber.py: Moved urllib2 Handler configuration to
	    URLGrabberFileObject. Each request has a
	    urllib2.OpenerDirector now that is customized based on
	    options.

	  * grabber.py: Added keepalive kwarg. keepalive can be
	    specified on a per-request basis now.

	  * grabber.py: Changed method of handling retries. I'm not
	    sure if I like this yet. All URLGrabber.urlXXX methods
	    define a function and pass it to the URLGrabber._retry()
	    method which calls the function provided and handles
	    retrying if the provided function raises a URLGrabError.

	2003-12-09 Tuesday    rtomayko

	  * grabber.py: default_grabber is now a default instance of
	    URLGrabber used by the module level urlXXX functions.

	  * grabber.py: deprecated module level set_<option> methods.
	    default_grabber should be used instead.

	  * grabber.py: URLGrabber should be completely stateless now.
	    Using a single URLGrabber object for multiple requests
	    shouldn't be a problem.

	  * grabber.py: Added URLGrabberOptions class to handle kwargs
	    more elegantly.

	2003-12-08 Monday   rtomayko

	  * __init__.py, setup.py: everything should be in a package named
	    urlgrabber now (distutils is a nice piece of software).

	  * grabber.py, range.py, rangetests.py, grabbertests.py: - Initial
	    attempt at range support for HTTP and local files through range
	    module.

	  * byterange.py: brought in skeleton classes from urllib2 for FTP
	    range support but FTP ranges are not yet supported.

	  * byterange.py: Local file range support internally implemented
	    with RangeableFileObject which is a pretty cool file object
	    wrapper that automatically handles ranging.

	2003-12-07 Sunday   rtomayko

	  * grabber.py: minor changes for line wrapping

	  * grabber.py: added URLGrabber class (moved _do_open, _do_grab,
	    _parse_url, _get_raw_throttle into said class).

	  * grabber.py: deprecated retrygrab. now supported through
	    urlgrab(retry=n).

	  * grabber.py: local filenames (i.e. without URL scheme
	    specifier) are now handled wherever a url may be passed.

	  * grabber.py: retry is now fully supported on urlread and
	    partially supported on urlopen. wrt to urlopen, retries are
	    possible if an URLGrabError occurs while _opening_ the url
	    (e.g. due to temporarily unavailable, etc). however, we
	    still can't protect anyone from problems that occur after
	    urlopen has returned the file object.

	2003-12-05 Friday   rtomayko

	  * grabber.py: Initial attempt at retooling the interface to use
	    kwargs.. *Most* functionality should still be working..

2003-10-13  Michael D. Stenner <mstenner@linux.duke.edu>

	* urlgrabber.py, test/test_urlgrabber.py:

	created test_urlgrabber.py and started moving tests into it

2003-10-12  Michael D. Stenner <mstenner@linux.duke.edu>

	* README, makefile, progress_meter.py, urlgrabber.py,
	urlgrabber/keepalive.py, LICENSE, MANIFEST.in, setup.py:

	Initial revision

2003-10-12  Michael D. Stenner <mstenner@linux.duke.edu>

	* README, makefile, progress_meter.py, urlgrabber.py,
	urlgrabber/keepalive.py, LICENSE, MANIFEST.in, setup.py:

	importing urlgrabber

